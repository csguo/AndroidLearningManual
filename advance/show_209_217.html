
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML xmlns="http://www.w3.org/1999/xhtml">
<HEAD>
<TITLE>Android反编译和防止反编译的方法_Android学习手册</TITLE>
<META content="text/html; charset=gb2312" http-equiv=Content-Type><LINK  rel=stylesheet type=text/css href="../css/c5.css">
<META name=GENERATOR content="MSHTML 8.00.6001.18702">
<meta name="Description" content=Android基础 Android组件 Android用户界面 Android设备功能 Android数据存储 Android网络应用 Android游戏开发 Android多媒体 Android源码开发 Android高级进阶 Android面试题/>
<meta name="Keywords" content="android 学习手册">

</HEAD>
<BODY id=homesecond class=serverscripting>
<DIV id=wrapper>
<DIV id=header><h1><a href="../index.html">Android学习手册</a></h1> 
</DIV>

<DIV id=navfirst>
<div id="indexGuide"><UL><li ><A href="../basic/index.html">Android基础</A> </li><li ><A href="../component/index.html">Android组件</A> </li><li ><A href="../userinterface/index.html">用户界面</A> </li><li ><A href="../device/index.html">设备功能</A> </li><li ><A href="../datastorage/index.html">数据存储</A> </li><li ><A href="../network/index.html">网络应用</A> </li><li ><A href="../game/index.html">游戏开发</A> </li><li ><A href="../multimedia/index.html">多媒体</A> </li><li ><A href="../source/index.html">源码开发</A> </li><li class="navcurrentLink"><A href="index.html">高级进阶</A> </li><li ><A href="../interview/index.html">Android面试题</A> </li></UL></div>
</DIV>
<DIV id=navsecond>
<DIV id=course>
<div id="kcTitle">课 程 表</div>


  <h2><A title="Android基础之运行原理和机制" href="index_215.html">Android基础之运行原理和机制</A></h2>

  <h2><A title="Android高级篇之Android优化" href="index_216.html">Android高级篇之Android优化</A></h2>

  <h2><A title="Android高级篇之编译及反编译" href="index_217.html">Android高级篇之编译及反编译</A></h2>
<UL><li ><A title=Android 程序反编译 href="show_201_217.html">Android 程序反编译</A> </li><li ><A title=Android反编译工具Apktool使用 href="show_202_217.html">Android反编译工具Apktool使用</A> </li><li ><A title=Android命令行编译方法,不用Eclipse IDE href="show_203_217.html">Android命令行编译方法,不用Eclipse IDE</A> </li><li ><A title=Android反编译小结 href="show_204_217.html">Android反编译小结</A> </li><li ><A title=反编译APK文件 href="show_205_217.html">反编译APK文件</A> </li><li ><A title=无需eclipse无需ant,直接在android源码中混淆编译 href="show_206_217.html">无需eclipse无需ant,直接在android源码中混淆编译</A> </li><li ><A title=apk反编译问题总结 href="show_207_217.html">apk反编译问题总结</A> </li><li ><A title=Android如何防止apk程序被反编译 href="show_208_217.html">Android如何防止apk程序被反编译</A> </li><li class="currentLink"><A title=Android反编译和防止反编译的方法 href="show_209_217.html">Android反编译和防止反编译的方法</A> </li><li ><A title=构建Android自动编译持续集成系统 href="show_210_217.html">构建Android自动编译持续集成系统</A> </li><li ><A title=跟我一起学【ANT build.xml】 href="show_211_217.html">跟我一起学【ANT build.xml】</A> </li><li ><A title=linux 下 使用shell 控制ant批量打包 href="show_212_217.html">linux 下 使用shell 控制ant批量打包</A> </li></UL>
  <h2><A title="Android高级篇之加密解密" href="index_218.html">Android高级篇之加密解密</A></h2>

  <h2><A title="Android高级篇之Android 安全" href="index_219.html">Android高级篇之Android 安全</A></h2>

  <h2><A title="Android高级篇之算法" href="index_220.html">Android高级篇之算法</A></h2>

  <h2><A title="Android高级篇之解锁教程" href="index_221.html">Android高级篇之解锁教程</A></h2>

</DIV></DIV>
<DIV id=maincontent>
<DIV id=w3school>
<H1></H1>
<P><STRONG></STRONG></P></DIV>

<DIV>
<H2>Android反编译和防止反编译的方法</H2>
<div style="line-height:20px; font-size:14px;"><p>android基于java的，而java反编译工具很强悍，所以对正常apk应用程序基本上可以做到100%反编译还原。</p><p>因此开发人员如果不准备开源自己的项目就需要知道怎样防止反编译和反编译他人的项目来学习。</p><p>2.3版本以上在eclipse自动生成的default.properties文件中加上一句“proguard.config=proguard.cfg”可以对代码进行混淆，反编译后是很难看懂的。</p><p>2.3之前的SDK版本也没关系，把上面的proguard.cfg文件复制一份放到项目中，然后进行相同的操作即可。</p><p>有些应用反编译后java代码用jd-ui根本都无法打开，连混淆的代码都看不到的，本人尝试多次都做不到，希望知道的告知下怎么处理的。</p><p>注意：上面的功能只是把java代码混淆了，xml和资源文件、图片并没有混淆，有些游戏应用图片比较重要需要转换成dat文件 再加上自己的加密解密算法还原。</p><p>另外加了混淆功能后还有压缩的功能，混淆后的apk比原来的小(具体比例看你的代码重复量了)。</p><p>说完防止反编译再来说说怎么反编译吧。</p><p>先说一下反编译的流程和原理：</p><p>1.用apktool 把apk--&gt; 资源包(java代码变成smali文件看不懂的)，可以修改资源包里面的文件。</p><p>2.apk后缀名改成zip或rar解压，获取 classes.dex 文件，用dex2jar转换成jar包(注：直接解压出来的资源文件是不能直接打开的，要用第一步的反编译工具)。</p><p>3.用jd-ui等java反编译工具直接查看java代码。</p><p>4.把java代码和第一版的资源包整到一起重新组成一个新的应用。</p><p>5.用apktool 重新编译。</p><p>6.用签名工具重新签名。</p><p>7.重新发布带新的签名的应用。</p><p>注：如果不用改java代码，只是换换风格和汉化2.3.4步则不用做。</p><p>google code上的开源项目</p><p><pre>apktool http://code.google.com/p/android-apktool/</p><p>dex2jar http://code.google.com/p/dex2jar/</p><p></pre></p><p>另外有人做了个工具套装，集成了apktool dex2jar jd-ui,不过我下载了运行不了，不知道是不是相应环境没有配对导致的。</p><p>hackapk http://code.google.com/p/hackapk/</p><p>另外有人把apktool做了个封装 弄成exe文件 图形界面的方便使用，截个图出来给大家看看吧。</p><p>如图：</p><p>注：上面那个软件不能签名的，要用另外一个软件(APKSign)来进行签名,截图如下：</p><p>如上图所示。</p><p>另给出上面两个工具的下载连接 机锋论坛上面的，估计直接点击连接下载不了。</p><p>Xwindows,带图形界面： apktool.rar (3.33 MB) --&gt;这个下载后可以自己到 http://code.google.com/p/android-apktool/ 下载最新版的apktool.jar替换原来的。</p><p>签名工具：Auto-sign.rar(312.45 KB)</p><p>另外还有些命令行的工具，本人给APK编辑器不同版本上面的说明不对应浪费了很多时间。</p><p>1.普通apk文件(就是从各种网站上下载下来的第三方软件)。</p><p>(1)把他放到place-apk-here-for-modding文件夹里面。(不要有空格和中文，中文的改成英文的)</p><p>(2)打开Script.exe，在CMD窗口中输入22或23(设置目前的工程)，选择要编辑的apk文件的编号，回车确认。</p><p>如上：有些版本设置目前的工程选项改成23了，但说明文件没有改过来，按22一直都无法选择apk，原因很不好找。</p><p>建议还是使用图形界面。</p><p></p></div>

</DIV></DIV>

<DIV id=footer style="display:none">
<P align="center">  
 
 
 
    </P>
</DIV></BODY></HTML>

